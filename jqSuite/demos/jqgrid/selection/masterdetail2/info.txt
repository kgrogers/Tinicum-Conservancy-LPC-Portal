Advanced master detail with editing on detail 
Please, take a look at the code.

